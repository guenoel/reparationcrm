import{k as d,m as k,l as B,D as v,f as i,a as g,u as o,w as b,F as y,o as r,Z as S,b as e,j as $,d as F,i as h,A as M,H as P,G as f,E as D,t as n,n as E}from"./app-BjlfKHe0.js";import{_ as V}from"./AuthenticatedLayout-BCFTJs8d.js";import{d as I}from"./index-D_lEM2AO.js";import"./ApplicationLogo-C3T5h9Va.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},A={class:"spare_types__list table"},H={class:"customers__titlebar dflex justify-content-between align-items-center"},L={class:"customers__titlebar--item"},N={class:"relative"},Y=["src"],Q=["onClick"],R=["onClick"],U={class:"table--items devices__list__bottom"},q={class:"pagination"},z=["innerHTML","onClick"],ee={__name:"Index",setup(G){let u=d([]),p=d([]),l=d("");const m=d(10);k(async()=>{c()}),B(l,()=>{c()});const x=a=>"/upload/"+a,c=async()=>{try{const a=await v.get(`/api/spare_types?searchQuery=${l.value}&perPage=${m.value}`);u.value=a.data.spare_types.data,p.value=a.data.spare_types.links}catch(a){console.error("Error fetching spare_types:",a)}},C=a=>{!a.url||a.active||v.get(a.url).then(t=>{u.value=t.data.spare_types.data,p.value=t.data.spare_types.links})},w=a=>{I.Inertia.visit(`/spare_types/${a}/edit`)},T=a=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&v.delete(`/api/spare_types/${a}`).then(()=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}),c()})})};return(a,t)=>(r(),i(y,null,[g(o(S),{title:"Enregistrement Type de pièce"}),g(V,null,{header:b(()=>t[2]||(t[2]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},[e("span",null,"Type de pièces")],-1)])),default:b(()=>[e("div",j,[e("div",A,[e("div",H,[t[4]||(t[4]=e("div",{class:"customers__titlebar--item"},[e("h1",null,"Type de pièces")],-1)),e("div",L,[g(o($),{href:"/spare_types/create",class:"btn btn-secondary my-1"},{default:b(()=>t[3]||(t[3]=[F(" Ajouter un type de pièce ")])),_:1})])]),e("div",N,[h(e("input",{class:"search-input",type:"text",name:"search",placeholder:"Recherche d'type de pièce...","onUpdate:modelValue":t[0]||(t[0]=s=>P(l)?l.value=s:l=s)},null,512),[[M,o(l)]])]),t[8]||(t[8]=e("div",{class:"table--heading mt-2 spare_types__list__heading",style:{"padding-top":"20px",background:"#FFF"}},[e("p",{class:"table--heading--col1"},"Image"),e("p",{class:"table--heading--col2"},"Fournisseur"),e("p",{class:"table--heading--col3"},"Type"),e("p",{class:"table--heading--col4"},"Marque"),e("p",{class:"table--heading--col5"},"Description du type de pièce"),e("p",{class:"table--heading--col6"},"Prix d'achat"),e("p",{class:"table--heading--col7"},"Prix de vente"),e("p",{class:"table--heading--col8"},"actions")],-1)),(r(!0),i(y,null,f(o(u),s=>(r(),i("div",{class:"table--items spare_types__list__item",key:s.id},[e("img",{src:x(s.image)},null,8,Y),e("p",null,n(s.dealer),1),e("p",null,n(s.type),1),e("p",null,n(s.brand),1),e("p",null,n(s.description),1),e("p",null,n(s.buy_price),1),e("p",null,n(s.sell_price),1),e("div",null,[e("button",{class:"btn-icon btn-icon-success",onClick:_=>w(s.id)},t[5]||(t[5]=[e("i",{class:"fas fa-pencil-alt"},null,-1)]),8,Q),e("button",{class:"btn-icon btn-icon-danger",onClick:_=>T(s.id)},t[6]||(t[6]=[e("i",{class:"far fa-trash-alt"},null,-1)]),8,R)])]))),128)),e("div",U,[e("ul",q,[(r(!0),i(y,null,f(o(p),(s,_)=>(r(),i("a",{href:"#",class:E(["btn btn-secondary",{active:s.active,disable:!s.url}]),key:_,innerHTML:s.label,onClick:Z=>C(s)},null,10,z))),128))]),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),onChange:c,class:"select-pagination"},t[7]||(t[7]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1),e("option",{value:"200"},"200",-1),e("option",{value:"500"},"500",-1),e("option",{value:"1000"},"1000",-1)]),544),[[D,m.value]])])])])]),_:1})],64))}};export{ee as default};
