import{k as o,m as C,l as U,D as _,f as i,a as h,u as r,w as b,F as v,o as n,Z as E,b as e,i as f,A as F,H as M,G as x,E as $,t as u,n as I}from"./app-CWrOUGrC.js";import{_ as P}from"./AuthenticatedLayout-DSwbZh_W.js";import{d as T}from"./index-BtVjSjZl.js";import"./ApplicationLogo-DChB-njM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},B={class:"devices__list table"},D={class:"relative"},H=["src"],L=["onClick"],N={class:"table--items devices__list__bottom"},R={class:"pagination"},Q=["innerHTML","onClick"],J={__name:"Index",setup(S){let c=o([]),d=o([]),l=o("");const p=o(10);C(async()=>{m()}),U(l,()=>{m()});const y=a=>"/upload/"+a,m=async()=>{try{const a=await _.get(`/api/users?searchQuery=${l.value}&perPage=${p.value}`);c.value=a.data.users.data,d.value=a.data.users.links}catch(a){console.error("Error fetching users:",a)}},k=a=>{!a.url||a.active||_.get(a.url).then(t=>{c.value=t.data.users.data,d.value=t.data.users.links})},w=a=>{T.Inertia.visit(`/users/${a}/edit`)};return(a,t)=>(n(),i(v,null,[h(r(E),{title:"Enregistrement Utilisateur"}),h(P,null,{header:b(()=>t[2]||(t[2]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},[e("span",null,"Utilisateurs")],-1)])),default:b(()=>[e("div",V,[e("div",B,[t[5]||(t[5]=e("div",{class:"customers__titlebar dflex justify-content-between align-items-center"},[e("div",{class:"customers__titlebar--item"},[e("h1",null,"Utilisateurs")])],-1)),e("div",D,[f(e("input",{class:"search-input",type:"text",name:"search",placeholder:"Recherche d'utilisateur...","onUpdate:modelValue":t[0]||(t[0]=s=>M(l)?l.value=s:l=s)},null,512),[[F,r(l)]])]),t[6]||(t[6]=e("div",{class:"table--heading mt-2 devices__list__heading",style:{"padding-top":"20px",background:"#FFF"}},[e("p",{class:"table--heading--col1"},"Image"),e("p",{class:"table--heading--col2"},"Nom"),e("p",{class:"table--heading--col3"},"e-mail"),e("p",{class:"table--heading--col4"},"Téléphone"),e("p",{class:"table--heading--col5"},"Rôle"),e("p",{class:"table--heading--col8"},"actions")],-1)),(n(!0),i(v,null,x(r(c),s=>(n(),i("div",{class:"table--items devices__list__item",key:s.id},[e("img",{src:y(s.image)},null,8,H),e("p",null,u(s.name),1),e("p",null,u(s.email),1),e("p",null,u(s.phone),1),e("p",null,u(s.role),1),e("div",null,[e("button",{class:"btn-icon btn-icon-success",onClick:g=>w(s.id)},t[3]||(t[3]=[e("i",{class:"fas fa-pencil-alt"},null,-1)]),8,L)])]))),128)),e("div",N,[e("ul",R,[(n(!0),i(v,null,x(r(d),(s,g)=>(n(),i("a",{href:"#",class:I(["btn btn-secondary",{active:s.active,disable:!s.url}]),key:g,innerHTML:s.label,onClick:j=>k(s)},null,10,Q))),128))]),f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>p.value=s),onChange:m,class:"select-pagination"},t[4]||(t[4]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1),e("option",{value:"200"},"200",-1),e("option",{value:"500"},"500",-1),e("option",{value:"1000"},"1000",-1)]),544),[[$,p.value]])])])])]),_:1})],64))}};export{J as default};
